{"version":3,"sources":["pages/login/logo.svg","themes/default.ts","themes/index.ts","config.ts","context/UserContext.tsx","components/Header/styles.ts","components/Header/Header.tsx","components/Sidebar/styles.ts","components/Sidebar/Sidebar.tsx","pages/report/InputDialog.tsx","pages/report/styles.ts","pages/report/Report.tsx","components/Layout/styles.ts","components/Layout/Layout.tsx","pages/error/styles.ts","pages/error/Error.tsx","pages/login/styles.ts","pages/login/Login.tsx","components/App.tsx","index.tsx"],"names":["module","exports","palette","primary","main","light","tinycolor","lighten","toHexString","dark","darken","secondary","contrastText","warning","success","info","text","hint","background","default","customShadows","widget","widgetDark","widgetWide","createMuiTheme","defaultTheme","typography","h1","fontSize","h2","h3","h4","h5","h6","host","window","location","split","ledgerId","apiUrl","slice","unshift","httpBaseUrl","join","port","loginUrl","dablLoginUrl","UserStateContext","React","createContext","isAuthenticated","UserDispatchContext","userReducer","state","action","type","token","party","UserProvider","children","localStorage","getItem","applicationId","initState","useReducer","dispatch","Provider","value","useUserState","context","useContext","undefined","Error","useUserDispatch","loginUser","userToken","history","setIsLoading","setError","jwt","admin","actAs","readAs","createToken","setItem","push","loginDablUser","assign","makeStyles","theme","createStyles","logotype","color","marginLeft","spacing","marginRight","fontWeight","whiteSpace","appBar","width","zIndex","drawer","toolbar","paddingLeft","paddingRight","grow","flexGrow","headerMenuButton","padding","headerIcon","withRouter","classes","useStyles","userState","userDispatch","AppBar","position","className","Toolbar","Typography","variant","IconButton","aria-haspopup","aria-controls","onClick","event","removeItem","signOut","flexShrink","mixins","linkRoot","link","textDecoration","backgroundColor","linkActive","linkIcon","display","justifyContent","linkIconActive","linkText","linkTextActive","SidebarLink","path","icon","label","active","pathname","indexOf","ListItem","button","component","Link","to","root","disableRipple","ListItemIcon","ListItemText","Drawer","open","paper","List","style","key","InputDialog","props","useState","defaultValue","setState","fieldsAsArray","Object","entries","fields","Dialog","onClose","maxWidth","fullWidth","DialogTitle","title","DialogContent","map","index","fieldName","field","FormControl","InputLabel","required","Select","onChange","e","target","items","item","MenuItem","TextField","autoFocus","InputLabelProps","shrink","placeholder","fieldsToInput","DialogActions","Button","tableCell","verticalAlign","paddingTop","paddingBottom","tableCellButton","tableRow","height","textField","textFieldUnderline","borderBottomColor","choiceButton","Report","useParty","ledger","useLedger","assets","useStreamQuery","Network","contracts","defaultInviteCustomsMarProps","customsMar","a","inviteCustomsMarProps","setInviteCustomsMarProps","Table","size","TableHead","TableRow","TableCell","TableBody","contractId","disabled","payload","operator","asset","exercise","InviteCustomsMar","showInviteCustomsMar","overflowX","content","minHeight","fakeToolbar","user","wsBaseUrl","container","flexDirection","alignItems","top","left","paperRoot","errorCode","marginBottom","safetyText","textAlign","backButton","textTransform","Grid","Paper","logotypeContainer","logotypeImage","logotypeText","formContainer","form","tab","dablLoginButton","errorMessage","formButtons","marginTop","loginLoader","isLoading","error","loginValue","setLoginValue","passwordValue","setPasswordValue","src","logo","alt","Fragment","Fade","in","id","InputProps","underline","input","onKeyDown","margin","CircularProgress","length","App","exact","useEffect","url","URL","toString","searchParams","get","render","PrivateRoute","Layout","PublicRoute","Login","ErrorComponent","rest","createElement","from","ReactDOM","ThemeProvider","Themes","CssBaseline","document","getElementById"],"mappings":"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","file":"static/js/main.4862f3e1.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.06c81d21.svg\";","import tinycolor from \"tinycolor2\";\n\nconst primary = \"#536DFE\";\nconst secondary = \"#FF5C93\";\nconst warning = \"#FFC260\";\nconst success = \"#3CD4A0\";\nconst info = \"#9013FE\";\n\nconst lightenRate = 7.5;\nconst darkenRate = 15;\n\nexport default {\n  palette: {\n    primary: {\n      main: primary,\n      light: tinycolor(primary)\n        .lighten(lightenRate)\n        .toHexString(),\n      dark: tinycolor(primary)\n        .darken(darkenRate)\n        .toHexString(),\n    },\n    secondary: {\n      main: secondary,\n      light: tinycolor(secondary)\n        .lighten(lightenRate)\n        .toHexString(),\n      dark: tinycolor(secondary)\n        .darken(darkenRate)\n        .toHexString(),\n      contrastText: \"#FFFFFF\",\n    },\n    warning: {\n      main: warning,\n      light: tinycolor(warning)\n        .lighten(lightenRate)\n        .toHexString(),\n      dark: tinycolor(warning)\n        .darken(darkenRate)\n        .toHexString(),\n    },\n    success: {\n      main: success,\n      light: tinycolor(success)\n        .lighten(lightenRate)\n        .toHexString(),\n      dark: tinycolor(success)\n        .darken(darkenRate)\n        .toHexString(),\n    },\n    info: {\n      main: info,\n      light: tinycolor(info)\n        .lighten(lightenRate)\n        .toHexString(),\n      dark: tinycolor(info)\n        .darken(darkenRate)\n        .toHexString(),\n    },\n    text: {\n      primary: \"#4A4A4A\",\n      secondary: \"#6E6E6E\",\n      hint: \"#B9B9B9\",\n    },\n    background: {\n      default: \"#F6F7FF\",\n      light: \"#F3F5FF\",\n    },\n  },\n  customShadows: {\n    widget:\n      \"0px 3px 11px 0px #E8EAFC, 0 3px 3px -2px #B2B2B21A, 0 1px 8px 0 #9A9A9A1A\",\n    widgetDark:\n      \"0px 3px 18px 0px #4558A3B3, 0 3px 3px -2px #B2B2B21A, 0 1px 8px 0 #9A9A9A1A\",\n    widgetWide:\n      \"0px 12px 33px 0px #E8EAFC, 0 3px 3px -2px #B2B2B21A, 0 1px 8px 0 #9A9A9A1A\",\n  },\n};\n","import defaultTheme from \"./default\";\n\nimport { createMuiTheme } from \"@material-ui/core\";\n\nconst overrides = {\n  typography: {\n    h1: {\n      fontSize: \"3rem\",\n    },\n    h2: {\n      fontSize: \"2rem\",\n    },\n    h3: {\n      fontSize: \"1.64rem\",\n    },\n    h4: {\n      fontSize: \"1.5rem\",\n    },\n    h5: {\n      fontSize: \"1.285rem\",\n    },\n    h6: {\n      fontSize: \"1.142rem\",\n    },\n  },\n};\n\nexport default {\n  default: createMuiTheme({ ...defaultTheme, ...overrides }),\n};\n","import * as jwt from \"jsonwebtoken\";\n\nexport const isLocalDev = process.env.NODE_ENV === 'development';\n\nlet host = window.location.host.split('.')\n\nconst applicationId = 'cosmart'\nexport const ledgerId = isLocalDev ? applicationId : host[0];\n\nlet apiUrl = host.slice(1)\napiUrl.unshift('api')\n\nexport const httpBaseUrl = isLocalDev ? undefined : ('https://' + apiUrl.join('.') + (window.location.port ? ':' + window.location.port : '') + '/data/' + ledgerId + '/');\n\n// Unfortunately, the development server of `create-react-app` does not proxy\n// websockets properly. Thus, we need to bypass it and talk to the JSON API\n// directly in development mode.\nexport const wsBaseUrl = isLocalDev ? 'ws://localhost:7575/' : undefined;\n\nexport const createToken = (party : string) => jwt.sign({ \"https://daml.com/ledger-api\": { ledgerId, applicationId, admin: true, actAs: [party], readAs: [party] } }, \"secret\")\n\nlet loginUrl = host.slice(1)\nloginUrl.unshift('login')\n\nexport const dablLoginUrl = loginUrl.join('.') + (window.location.port ? ':' + window.location.port : '') + '/auth/login?ledgerId=' + ledgerId;\n\nexport const damlPartyKey = applicationId + \".daml.party\";\nexport const damlTokenKey = applicationId + \".daml.token\";\n","import React from \"react\";\nimport { History } from 'history';\nimport { createToken, dablLoginUrl, damlPartyKey, damlTokenKey } from \"../config\";\n\ntype AuthenticatedUser = {\n  isAuthenticated : true\n  token : string\n  party : string\n}\n\ntype UnAthenticated = {\n  isAuthenticated : false\n}\n\ntype UserState = UnAthenticated | AuthenticatedUser\n\ntype LoginSuccess = {\n  type : \"LOGIN_SUCCESS\"\n  token : string\n  party : string\n}\n\ntype LoginFailure = {\n  type : \"LOGIN_FAILURE\"\n}\n\ntype SignoutSuccess = {\n  type : \"SIGN_OUT_SUCCESS\"\n}\n\ntype LoginAction = LoginSuccess | LoginFailure | SignoutSuccess\n\nconst UserStateContext = React.createContext<UserState>({ isAuthenticated: false });\nconst UserDispatchContext = React.createContext<React.Dispatch<LoginAction>>({} as React.Dispatch<LoginAction>);\n\nfunction userReducer(state : UserState, action : LoginAction) : UserState {\n  switch (action.type) {\n    case \"LOGIN_SUCCESS\":\n      return { isAuthenticated: true, token: action.token, party: action.party };\n    case \"LOGIN_FAILURE\":\n      return { isAuthenticated: false };\n    case \"SIGN_OUT_SUCCESS\":\n      return { isAuthenticated: false };\n  }\n}\n\nconst UserProvider : React.FC = ({ children }) => {\n  const party = localStorage.getItem(damlPartyKey);\n  const token = localStorage.getItem(damlTokenKey);\n\n  let initState : UserState = (!!party && !!token) ? { isAuthenticated : true, token, party } : { isAuthenticated : false };\n  const [state, dispatch] = React.useReducer<React.Reducer<UserState,LoginAction>>(userReducer, initState);\n\n  return (\n    <UserStateContext.Provider value={state}>\n      <UserDispatchContext.Provider value={dispatch}>\n        {children}\n      </UserDispatchContext.Provider>\n    </UserStateContext.Provider>\n  );\n}\n\nfunction useUserState() {\n  const context = React.useContext<UserState>(UserStateContext);\n  if (context === undefined) {\n    throw new Error(\"useUserState must be used within a UserProvider\");\n  }\n  return context;\n}\n\nfunction useUserDispatch() {\n  const context = React.useContext<React.Dispatch<LoginAction>>(UserDispatchContext);\n  if (context === undefined) {\n    throw new Error(\"useUserDispatch must be used within a UserProvider\");\n  }\n  return context;\n}\n\n\n// ###########################################################\n\nfunction loginUser(\n    dispatch : React.Dispatch<LoginAction>,\n    party : string,\n    userToken : string,\n    history : History,\n    setIsLoading : React.Dispatch<React.SetStateAction<boolean>>,\n    setError : React.Dispatch<React.SetStateAction<boolean>>) {\n  setError(false);\n  setIsLoading(true);\n\n  if (!!party) {\n    const token = userToken || createToken(party)\n    localStorage.setItem(damlPartyKey, party);\n    localStorage.setItem(damlTokenKey, token);\n\n    dispatch({ type: \"LOGIN_SUCCESS\", token, party });\n    setError(false);\n    setIsLoading(false);\n    history.push(\"/app\");\n  } else {\n    dispatch({ type: \"LOGIN_FAILURE\" });\n    setError(true);\n    setIsLoading(false);\n  }\n}\n\nconst loginDablUser = () => {\n  window.location.assign(`https://${dablLoginUrl}`);\n}\n\nfunction signOut(dispatch : React.Dispatch<LoginAction>, history : History) {\n  localStorage.removeItem(\"daml.party\");\n  localStorage.removeItem(\"daml.token\");\n\n  dispatch({ type: \"SIGN_OUT_SUCCESS\" });\n  history.push(\"/login\");\n}\n\nexport { UserProvider, useUserState, useUserDispatch, loginUser, loginDablUser, signOut };\n","import { makeStyles, createStyles } from \"@material-ui/styles\";\n\nexport default makeStyles((theme : any) => createStyles({\n  logotype: {\n    color: \"white\",\n    marginLeft: theme.spacing(2.5),\n    marginRight: theme.spacing(2.5),\n    fontWeight: 500,\n    fontSize: 18,\n    whiteSpace: \"nowrap\",\n  },\n  appBar: {\n    width: \"100vw\",\n    zIndex: theme.zIndex.drawer + 1,\n  },\n  toolbar: {\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n  },\n  grow: {\n    flexGrow: 1,\n  },\n  headerMenuButton: {\n    marginLeft: theme.spacing(2),\n    padding: theme.spacing(0.5),\n  },\n  headerIcon: {\n    fontSize: 28,\n    color: \"rgba(255, 255, 255, 0.35)\",\n  },\n}));\n","import React from \"react\";\nimport { withRouter, RouteComponentProps } from \"react-router-dom\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Typography from \"@material-ui/core/Typography\";\nimport ExitToApp from \"@material-ui/icons/ExitToApp\";\nimport { useUserDispatch, signOut, useUserState } from \"../../context/UserContext\";\nimport useStyles from \"./styles\";\n\nconst Header = ({ history } : RouteComponentProps) => {\n  const classes = useStyles();\n\n  const userState = useUserState();\n  const userDispatch = useUserDispatch();\n\n  return (\n    <AppBar position=\"fixed\" className={classes.appBar}>\n      <Toolbar className={classes.toolbar}>\n        <Typography variant=\"h6\" className={classes.logotype}>\n          DAML App Template\n        </Typography>\n        <div className={classes.grow} />\n        { userState.isAuthenticated && <Typography variant=\"h6\">User: {userState.party}</Typography> }\n        <IconButton\n          aria-haspopup=\"true\"\n          color=\"inherit\"\n          className={classes.headerMenuButton}\n          aria-controls=\"profile-menu\"\n          onClick={(event) => signOut(userDispatch, history)}\n        >\n          <ExitToApp className={classes.headerIcon} />\n        </IconButton>\n      </Toolbar>\n    </AppBar>\n  );\n}\n\nexport default withRouter(Header);","import { makeStyles, createStyles } from \"@material-ui/styles\";\n\nexport default makeStyles((theme : any) => createStyles({\n  drawer: {\n    width: 180,\n    flexShrink: 0,\n    whiteSpace: \"nowrap\",\n  },\n  toolbar: {\n    ...theme.mixins.toolbar,\n  },\n  linkRoot: {},\n  link: {\n    textDecoration: \"none\",\n    \"&:hover, &:focus\": {\n      backgroundColor: theme.palette.background.light,\n    },\n  },\n  linkActive: {\n    backgroundColor: theme.palette.background.light,\n  },\n  linkIcon: {\n    marginRight: theme.spacing(1),\n    color: theme.palette.text.secondary + \"99\",\n    width: 24,\n    display: \"flex\",\n    justifyContent: \"center\",\n  },\n  linkIconActive: {\n    marginRight: theme.spacing(1),\n    width: 24,\n    display: \"flex\",\n    justifyContent: \"center\",\n    color: theme.palette.primary.main,\n  },\n  linkText: {\n    padding: 0,\n    fontSize: 16,\n    color: theme.palette.text.secondary + \"CC\",\n  },\n  linkTextActive: {\n    padding: 0,\n    fontSize: 16,\n    color: theme.palette.text.primary,\n  },\n}));\n","import React from \"react\";\nimport { Link, withRouter, RouteComponentProps } from \"react-router-dom\";\nimport { Location } from \"history\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ListIcon from \"@material-ui/icons/List\";\nimport useStyles from \"./styles\";\n\ntype SidebarLinkProps = {\n  path : string\n  icon : JSX.Element\n  label : string\n  location : Location<unknown>\n}\n\nconst Sidebar = ({ location } : RouteComponentProps) => {\n  const classes = useStyles();\n\n  return (\n    <Drawer open variant=\"permanent\" className={classes.drawer} classes={{ paper: classes.drawer }}>\n      <div className={classes.toolbar} />\n      <List style={{ width: \"100%\" }}>\n        <SidebarLink key={0} label=\"Report\" path=\"/app/report\" icon={(<ListIcon />)} location={location} />\n      </List>\n    </Drawer>\n  );\n};\n\nconst SidebarLink = ({ path, icon, label, location } : SidebarLinkProps) => {\n  const classes = useStyles();\n  const active = path && (location.pathname === path || location.pathname.indexOf(path) !== -1);\n\n  return (\n    <ListItem button component={Link} to={path} className={classes.link} classes={{ root: active ? classes.linkActive : classes.linkRoot }} disableRipple>\n      <ListItemIcon className={active ? classes.linkIconActive : classes.linkIcon}>{icon}</ListItemIcon>\n      <ListItemText classes={{ primary: active ? classes.linkTextActive : classes.linkText }} primary={label} />\n    </ListItem>\n  );\n}\n\nexport default withRouter(Sidebar);\n","import React, { useState } from \"react\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Select from \"@material-ui/core/Select\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\n\nexport interface RegularField {\n  label : string\n  type : \"text\" | \"number\" | \"date\"\n}\n\nexport interface SelectionField {\n  label : string\n  type : \"selection\"\n  items : string[]\n}\n\nexport type Field = RegularField | SelectionField\n\nexport interface InputDialogProps<T extends {[key: string]: any }> {\n  open : boolean\n  title : string\n  defaultValue : T\n  fields : Record<keyof T, Field>\n  onClose : (state : T | null) => Promise<void>\n}\n\nexport function InputDialog<T extends { [key : string] : any }>(props : InputDialogProps<T>) {\n  const [ state, setState ] = useState<T>(props.defaultValue);\n\n  function fieldsToInput([fieldName, field] : [string, Field], index : number) : JSX.Element {\n    if (field.type === \"selection\") {\n      return (\n        <FormControl key={index} fullWidth>\n          <InputLabel required>{field.label}</InputLabel>\n          <Select\n              value={state[fieldName]}\n              defaultValue={\"\"}\n              onChange={e => setState({ ...state, [fieldName]: e.target.value })}>\n            {field.items.map(item => (<MenuItem key={item} value={item}>{item}</MenuItem>))}\n          </Select>\n        </FormControl>\n      )\n    } else {\n      return (\n        <TextField\n          required\n          autoFocus\n          fullWidth\n          key={index}\n          label={field.label}\n          type={field.type}\n          onChange={e => setState({ ...state, [fieldName]: e.target.value })}\n          InputLabelProps={{\n            shrink:true,\n            required:true,\n          }}\n          placeholder={(field.type===\"date\")?\"YYYY-MM-DD\":\"\"}\n        />\n      )\n    }\n  }\n  const fieldsAsArray : [string, Field][] = Object.entries(props.fields);\n\n  return (\n    <Dialog open={props.open} onClose={() => props.onClose(null)} maxWidth=\"sm\" fullWidth>\n      <DialogTitle>\n        {props.title}\n      </DialogTitle>\n      <DialogContent>\n        {fieldsAsArray.map((value, index) => fieldsToInput(value, index))}\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={() => props.onClose(null)} color=\"primary\">\n          Cancel\n        </Button>\n        <Button onClick={() => props.onClose(state)} color=\"primary\">\n          Okay\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}","import { makeStyles, createStyles } from \"@material-ui/styles\";\n\nexport default makeStyles((theme : any) => createStyles({\n  tableCell: {\n    verticalAlign: \"top\",\n    paddingTop: 6,\n    paddingBottom: 6,\n    fontSize: \"0.75rem\"\n  },\n  tableCellButton: {\n    verticalAlign: \"center\",\n    paddingTop: 0,\n    paddingBottom: 0,\n    fontSize: \"0.75rem\"\n  },\n  tableRow: {\n    height: \"auto\"\n  },\n  textField: {\n    fontSize: \"0.75rem\"\n  },\n  textFieldUnderline: {\n    \"&:before\": {\n      borderBottomColor: theme.palette.primary.light,\n    },\n    \"&:after\": {\n      borderBottomColor: theme.palette.primary.main,\n    },\n    \"&:hover:before\": {\n      borderBottomColor: `${theme.palette.primary.light} !important`,\n    },\n  },\n  choiceButton: {\n    paddingTop: 0,\n    paddingBottom: 0,\n  },\n}));\n","import React, { useState } from \"react\";\nimport Table from \"@material-ui/core/Table\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport Button from \"@material-ui/core/Button\";\nimport Ledger from \"@daml/ledger\";\nimport { useStreamQuery, useLedger, useParty } from \"@daml/react\";\nimport { ContractId } from \"@daml/types\";\nimport { InviteCustomsMar,InviteExporter,InviteImporter,InviteCustomsGua, Network  } from \"@daml.js/cosmart-0.0.1/lib/Main\";\nimport { InputDialog, InputDialogProps } from \"./InputDialog\";\nimport useStyles from \"./styles\";\n\nexport default function Report() {\n  const classes = useStyles();\n  const party = useParty();\n  const ledger : Ledger = useLedger();\n  const assets = useStreamQuery(Network).contracts;\n\n  const defaultInviteCustomsMarProps : InputDialogProps<InviteCustomsMar> = {\n    open: false,\n    title: \"Invite Customs Mar\",\n    defaultValue: { customsMar : \"\" },\n    fields: {\n      customsMar : {\n        label: \"customs Mar\",\n        type: \"text\" }},\n        // items: [ \"Alice\", \"Bob\" ] } },\n    onClose: async function() {}\n  };\n\n  const [ inviteCustomsMarProps, setInviteCustomsMarProps ] = useState(defaultInviteCustomsMarProps);\n  // One can pass the original contracts CreateEvent\n  function showInviteCustomsMar(asset : Network.CreateEvent) {\n    async function onClose(state : InviteCustomsMar | null) {\n      setInviteCustomsMarProps({ ...defaultInviteCustomsMarProps, open: false});\n      // if you want to use the contracts payload\n      // if (!state || asset.payload.owner === state.newOwner) return;\n      await ledger.exercise(Network.InviteCustomsMar, asset.contractId, state);\n    };\n    setInviteCustomsMarProps({ ...defaultInviteCustomsMarProps, open: true, onClose})\n  };\n\n  // type UserSpecifiedAppraise = Pick<Appraise, \"newValue\">;\n  // const today = (new Date()).toISOString().slice(0,10);\n  // const defaultAppraiseProps : InputDialogProps<UserSpecifiedAppraise> = {\n  //   open: false,\n  //   title: \"Appraise Asset\",\n  //   defaultValue: { newValue: \"0\" },\n  //   fields: {\n  //     newValue : {\n  //       label: \"New Value\",\n  //       type: \"number\" }\n  //     },\n  //   onClose: async function() {}\n  // };\n  // const [ appraiseProps, setAppraiseProps ] = useState(defaultAppraiseProps);\n\n  // // Or can pass just the ContractId of an\n  // function showAppraise(assetContractId : ContractId<Asset>) {\n  //   async function onClose(state : UserSpecifiedAppraise | null) {\n  //     setAppraiseProps({ ...defaultAppraiseProps, open: false});\n  //     if (!state) return;\n  //     const withNewDateOfAppraisal = { ...state, newDateOfAppraisal:today};\n  //     await ledger.exercise(Asset.Appraise, assetContractId, withNewDateOfAppraisal);\n  //   };\n  //   setAppraiseProps({...defaultAppraiseProps, open: true, onClose});\n  // };\n\n  // type InputFieldsForNewAsset = Omit<Asset, \"issuer\">;\n  // const defaultNewAssetProps : InputDialogProps<InputFieldsForNewAsset> = {\n  //   open: false,\n  //   title: \"New Asset\",\n  //   defaultValue: {\n  //     owner: party,\n  //     name: \"\",\n  //     dateOfAppraisal: today,\n  //     value: \"0\",\n  //   },\n  //   fields: {\n  //     owner: {\n  //       label: \"Owner\",\n  //       type: \"selection\",\n  //       items: [ \"Alice\", \"Bob\" ],\n  //     },\n  //     name: {\n  //       label: \"Name of Asset\",\n  //       type: \"text\"\n  //     },\n  //     dateOfAppraisal: {\n  //       label: \"Date of Appraisal\",\n  //       type: \"date\"\n  //     },\n  //     value: {\n  //       label: \"Value\",\n  //       type: \"number\"\n  //     }\n  //   },\n  //   onClose: async function() {}\n  // };\n  // const [newAssetProps, setNewAssetProps] = useState(defaultNewAssetProps);\n  // function showNewAsset() {\n  //   async function onClose(state : InputFieldsForNewAsset | null) {\n  //     setNewAssetProps({ ...defaultNewAssetProps, open: false});\n  //     if (!state) return;\n  //     const withIssuer = { ...state, issuer:party};\n  //     await ledger.create(Asset, withIssuer);\n  //   };\n  //   setNewAssetProps({...defaultNewAssetProps, open: true, onClose});\n  // };\n\n  return (\n    <>\n      <InputDialog { ...inviteCustomsMarProps } />\n      {/* <InputDialog { ...appraiseProps } />\n      <InputDialog { ...newAssetProps } /> */}\n      {/* <Button color=\"primary\" size=\"small\" className={classes.choiceButton} variant=\"contained\" onClick={() => showNewAsset()}>\n        Create New Asset\n      </Button> */}\n      <Table size=\"small\">\n        <TableHead>\n          <TableRow className={classes.tableRow}>\n            {/* <TableCell key={0} className={classes.tableCell}>Issuer</TableCell>\n            <TableCell key={1} className={classes.tableCell}>Owner</TableCell>\n            <TableCell key={2} className={classes.tableCell}>Name</TableCell>\n            <TableCell key={3} className={classes.tableCell}>Value</TableCell>\n            <TableCell key={4} className={classes.tableCell}>DateOfAppraisal</TableCell> */}\n            <TableCell key={5} className={classes.tableCell}>options</TableCell>\n            {/* <TableCell key={6} className={classes.tableCell}>Appraise</TableCell> */}\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {assets.map(a => (\n            <TableRow key={a.contractId} className={classes.tableRow}>\n              {/* <TableCell key={0} className={classes.tableCell}>{a.payload.issuer}</TableCell>\n              <TableCell key={1} className={classes.tableCell}>{a.payload.owner}</TableCell>\n              <TableCell key={2} className={classes.tableCell}>{a.payload.name}</TableCell>\n              <TableCell key={3} className={classes.tableCell}>{a.payload.value}</TableCell>\n              <TableCell key={4} className={classes.tableCell}>{a.payload.dateOfAppraisal}</TableCell>\n              <TableCell key={5} className={classes.tableCellButton}>\n                <Button color=\"primary\" size=\"small\" className={classes.choiceButton} variant=\"contained\" disabled={a.payload.owner !== party} onClick={() => showGive(a)}>Give</Button>\n              </TableCell> */}\n              <TableCell key={6} className={classes.tableCellButton}>\n                <Button color=\"primary\" size=\"small\" className={classes.choiceButton} variant=\"contained\" disabled={a.payload.operator !== party} onClick={() => showInviteCustomsMar(a)}>InviteCustomsMar</Button>\n              </TableCell>\n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n    </>\n  );\n}\n","import { makeStyles, createStyles } from \"@material-ui/styles\";\n\nexport default makeStyles((theme : any) => createStyles({\n  root: {\n    display: \"flex\",\n    maxWidth: \"100vw\",\n    overflowX: \"hidden\",\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(3),\n    width: `calc(100vw - ${240 + theme.spacing(6)}px)`,\n    minHeight: \"100vh\",\n  },\n  fakeToolbar: {\n    ...theme.mixins.toolbar,\n  },\n}));\n","import React from \"react\";\nimport { Route, Switch, withRouter } from \"react-router-dom\";\nimport DamlLedger from \"@daml/react\";\nimport Header from \"../Header/Header\";\nimport Sidebar from \"../Sidebar/Sidebar\";\nimport Report from \"../../pages/report/Report\";\nimport { useUserState } from \"../../context/UserContext\";\nimport { wsBaseUrl, httpBaseUrl } from \"../../config\";\nimport useStyles from \"./styles\";\n\nconst Layout = () => {\n  const classes = useStyles();\n  const user = useUserState();\n\n  if(!user.isAuthenticated){\n    return null;\n  } else {\n    return (\n      <DamlLedger party={user.party} token={user.token} httpBaseUrl={httpBaseUrl} wsBaseUrl={wsBaseUrl}>\n        <div className={classes.root}>\n            <>\n              <Header />\n              <Sidebar />\n              <div className={classes.content}>\n                <div className={classes.fakeToolbar} />\n                <Switch>\n                  <Route path=\"/app/report\" component={Report} />\n                </Switch>\n              </div>\n            </>\n        </div>\n      </DamlLedger>\n    );\n  }\n}\n\nexport default withRouter(Layout);\n","import { makeStyles, createStyles } from \"@material-ui/styles\";\n\nexport default makeStyles((theme : any) => createStyles({\n  container: {\n    height: \"100vh\",\n    width: \"100vw\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    position: \"absolute\",\n    top: 0,\n    left: 0,\n  },\n  paperRoot: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    paddingTop: theme.spacing(8),\n    paddingBottom: theme.spacing(8),\n    paddingLeft: theme.spacing(6),\n    paddingRight: theme.spacing(6),\n    maxWidth: 404,\n  },\n  errorCode: {\n    marginBottom: theme.spacing(5),\n    fontSize: 84,\n    fontWeight: 600,\n  },\n  safetyText: {\n    marginBottom: theme.spacing(5),\n    fontWeight: 300,\n    color: theme.palette.text,\n    textAlign: \"center\",\n  },\n  backButton: {\n    textTransform: \"none\",\n    fontSize: 22,\n  },\n}));\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Button from \"@material-ui/core/Button\";\nimport useStyles from \"./styles\";\n\nconst Error = () => {\n  const classes = useStyles();\n\n  return (\n    <Grid container className={classes.container}>\n      <Paper classes={{ root: classes.paperRoot }}>\n        <Typography variant=\"h3\" color=\"primary\" className={classes.errorCode}>404</Typography>\n        <Typography variant=\"h5\" color=\"primary\" className={classes.safetyText}>\n          Oops. Looks like the page you&apos;re looking for no longer exists\n        </Typography>\n        <Button variant=\"contained\" color=\"primary\" component={Link} to=\"/\" size=\"large\" className={classes.backButton}>\n          Back to Home\n        </Button>\n      </Paper>\n    </Grid>\n  );\n}\n\nexport default Error;","import { makeStyles, createStyles } from \"@material-ui/styles\";\n\nexport default makeStyles((theme : any) => createStyles({\n  container: {\n    height: \"100vh\",\n    width: \"100vw\",\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    position: \"absolute\",\n    top: 0,\n    left: 0,\n  },\n  logotypeContainer: {\n    backgroundColor: theme.palette.background.default,\n    width: \"60%\",\n    height: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  logotypeImage: {\n    width: 165,\n    marginBottom: theme.spacing(4),\n  },\n  logotypeText: {\n    color: \"#3a478f\",\n    fontWeight: 500,\n    fontSize: 64,\n  },\n  formContainer: {\n    width: \"40%\",\n    height: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  form: {\n    width: 320,\n  },\n  tab: {\n    fontWeight: 400,\n    fontSize: 18,\n  },\n  dablLoginButton: {\n    marginBottom: theme.spacing(2)\n  },\n  errorMessage: {\n    textAlign: \"center\",\n  },\n  textFieldUnderline: {\n    \"&:before\": {\n      borderBottomColor: theme.palette.primary.light,\n    },\n    \"&:after\": {\n      borderBottomColor: theme.palette.primary.main,\n    },\n    \"&:hover:before\": {\n      borderBottomColor: `${theme.palette.primary.light} !important`,\n    },\n  },\n  textField: {\n    borderBottomColor: theme.palette.background.light,\n  },\n  formButtons: {\n    width: \"100%\",\n    marginTop: theme.spacing(4),\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n  },\n  loginLoader: {\n    marginLeft: theme.spacing(4),\n  },\n}));\n","import React, { useState } from \"react\";\nimport { withRouter, RouteComponentProps } from \"react-router-dom\";\nimport Grid from \"@material-ui/core/Grid\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Fade from \"@material-ui/core/Fade\";\nimport { useUserDispatch, loginUser, loginDablUser } from \"../../context/UserContext\";\nimport { isLocalDev } from \"../../config\";\nimport useStyles from \"./styles\";\nimport logo from \"./logo.svg\";\n\nconst Login = (props : RouteComponentProps) => {\n  var classes = useStyles();\n  var userDispatch = useUserDispatch();\n  var [isLoading, setIsLoading] = useState(false);\n  var [error, setError] = useState(false);\n  var [loginValue, setLoginValue] = useState(\"\");\n  var [passwordValue, setPasswordValue] = useState(\"\");\n\n  return (\n    <Grid container className={classes.container}>\n      <div className={classes.logotypeContainer}>\n        <img src={logo} alt=\"logo\" className={classes.logotypeImage} />\n        <Typography className={classes.logotypeText}>App Template</Typography>\n      </div>\n      <div className={classes.formContainer}>\n        <div className={classes.form}>\n            <React.Fragment>\n              <Fade in={error}>\n                <Typography color=\"secondary\" className={classes.errorMessage}>\n                  Something is wrong with your login or password :(\n                </Typography>\n              </Fade>\n              {!isLocalDev &&\n                <>\n                  <Button className={classes.dablLoginButton} variant=\"contained\" color=\"primary\" size=\"large\" onClick={loginDablUser}>\n                    Log in with DABL\n                  </Button>\n                  <Typography>\n                    OR\n                  </Typography>\n                </>}\n              <TextField\n                id=\"email\"\n                InputProps={{\n                  classes: {\n                    underline: classes.textFieldUnderline,\n                    input: classes.textField,\n                  },\n                }}\n                value={loginValue}\n                onChange={e => setLoginValue(e.target.value)}\n                onKeyDown={e => {\n                  if (e.key === \"Enter\") {\n                    loginUser(\n                      userDispatch,\n                      loginValue,\n                      passwordValue,\n                      props.history,\n                      setIsLoading,\n                      setError,\n                    )\n                  }\n                }}\n                margin=\"normal\"\n                placeholder=\"Username\"\n                type=\"email\"\n                fullWidth\n              />\n              <TextField\n                id=\"password\"\n                InputProps={{\n                  classes: {\n                    underline: classes.textFieldUnderline,\n                    input: classes.textField,\n                  },\n                }}\n                value={passwordValue}\n                onChange={e => setPasswordValue(e.target.value)}\n                onKeyDown={e => {\n                  if (e.key === \"Enter\") {\n                    loginUser(\n                      userDispatch,\n                      loginValue,\n                      passwordValue,\n                      props.history,\n                      setIsLoading,\n                      setError,\n                    )\n                  }\n                }}\n                margin=\"normal\"\n                placeholder=\"Password\"\n                type=\"password\"\n                fullWidth\n              />\n              <div className={classes.formButtons}>\n                {isLoading ?\n                  <CircularProgress size={26} className={classes.loginLoader} />\n                : <Button\n                    disabled={loginValue.length === 0}\n                    onClick={() =>\n                      loginUser(\n                        userDispatch,\n                        loginValue,\n                        passwordValue,\n                        props.history,\n                        setIsLoading,\n                        setError,\n                      )\n                    }\n                    variant=\"contained\"\n                    color=\"primary\"\n                    size=\"large\"\n                  >\n                    Login\n                  </Button>}\n              </div>\n            </React.Fragment>\n        </div>\n      </div>\n    </Grid>\n  );\n}\n\nexport default withRouter(Login);\n","import React, { useEffect } from \"react\";\nimport { HashRouter, Route, Switch, Redirect } from \"react-router-dom\";\nimport { damlPartyKey, damlTokenKey } from \"../config\";\nimport { useUserState, useUserDispatch } from \"../context/UserContext\";\nimport Layout from \"./Layout/Layout\";\nimport ErrorComponent from \"../pages/error/Error\";\nimport Login from \"../pages/login/Login\";\n\nexport default function App() {\n  const userState = useUserState();\n\n  return (\n    <HashRouter>\n      <Switch>\n        <Route exact path=\"/\" component={RootRoute} />\n        <Route\n          exact\n          path=\"/app\"\n          render={() => <Redirect to=\"/app/report\" />}\n        />\n        <PrivateRoute path=\"/app\" component={Layout} />\n        <PublicRoute path=\"/login\" component={Login} />\n        <Route component={ErrorComponent} />\n      </Switch>\n    </HashRouter>\n  );\n\n  // #######################################################################\n\n  function RootRoute() {\n    const userDispatch = useUserDispatch();\n\n    useEffect(() => {\n      const url = new URL(window.location.toString());\n      const token = url.searchParams.get('token');\n      if (token === null) {\n        return;\n      }\n      const party = url.searchParams.get('party');\n      if (party === null) {\n        throw Error(\"When 'token' is passed via URL, 'party' must be passed too.\");\n      }\n      localStorage.setItem(damlPartyKey, party);\n      localStorage.setItem(damlTokenKey, token);\n\n      userDispatch({ type: \"LOGIN_SUCCESS\", token, party });\n    })\n\n    return (\n      <Redirect to=\"/app/report\" />\n    )\n  }\n\n  function PrivateRoute({ component, ...rest } : any) {\n    return (\n      <Route\n        {...rest}\n        render={props =>\n          userState.isAuthenticated ? (\n            React.createElement(component, props)\n          ) : (\n            <Redirect\n              to={{\n                pathname: \"/login\",\n                state: {\n                  from: props.location,\n                },\n              }}\n            />\n          )\n        }\n      />\n    );\n  }\n\n  function PublicRoute({ component, ...rest } : any) {\n    return (\n      <Route\n        {...rest}\n        render={props =>\n          userState.isAuthenticated ? (\n            <Redirect\n              to={{\n                pathname: \"/\",\n              }}\n            />\n          ) : (\n            React.createElement(component, props)\n          )\n        }\n      />\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { ThemeProvider } from \"@material-ui/styles\";\nimport { CssBaseline } from \"@material-ui/core\";\n\nimport Themes from \"./themes\";\nimport App from \"./components/App\";\nimport { UserProvider } from \"./context/UserContext\";\n\nReactDOM.render(\n  <UserProvider>\n    <ThemeProvider theme={Themes.default}>\n      <CssBaseline />\n      <App />\n    </ThemeProvider>\n  </UserProvider>,\n  document.getElementById(\"root\"),\n);\n"],"sourceRoot":""}